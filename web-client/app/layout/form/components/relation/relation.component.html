<div [@routerTransition] #rootdiv class="hosttable" (window:resize)="onResize($event)">

    <div class=" row ">

        <div class="col">
            <button class="btn btn-secondary " (click)="packageCtrl.onCreateEntityByRelation(relation) " [disabled]="packageCtrl.isDisabled(package.entity, null) "><i class="fa fa-plus "></i></button>
        </div>
        <div class="col-auto">
            <h5>{{relation}}</h5>
        </div>
    </div>
    <div class=" row">
        <div class="col hor-scrollable">

            <table class="table table-hover table-striped table-responsive">

                <thead>
                    <tr>
                        <th scope="col ">

                        </th>
                        <th scope="col " *ngFor=" let property of packageCtrl.getRelationProperties(relation,true,false) ">{{property.propName}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let row of package.entity[relation+ '_relation'] ">
                        <th scope="row ">
                            <div class="btn-group" role="group">
                                <button type="button " class="btn btn-secondary " (click)="packageCtrl.onEditEntityByRelation(row, relation) " [disabled]="packageCtrl.isDisabled(package.entity, null) "><i class="fa fa-edit "></i></button>
                                <button type="button " class="btn btn-secondary " (click)="packageCtrl.onDeleteEntityByRelation(row, relation, false) " [disabled]="packageCtrl.isDisabled(package.entity, null) "><i class="fa fa-minus "></i></button>
                            </div>
                        </th>
                        <td scope="row " *ngFor="let property of packageCtrl.getRelationProperties(relation,true,false)">
                            <div *ngIf="checkSize()" [ngClass]="{tdlabel: checkSize()}">{{property.propName}}:</div>
                            <div [ngSwitch]="packageCtrl.getInputType(property) " [ngClass]="{tdcontent: checkSize()}">
                                <div class=" input-group " *ngSwitchCase=" 'date' ">{{row[property.propName] | datefrm}}</div>
                                <div class="input-group " *ngSwitchCase=" 'checkbox' ">
                                    <input class="form-control " type="checkbox " [checked]="row[property.propName] ">
                                </div>
                                <div class="input-group " *ngSwitchDefault>{{property.path && row[property.path] ? row[property.path][property.propName] : row[property.propName]}}</div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <label *ngIf="package.entity[relation+ '_relation'] && package.entity[relation+ '_relation'].length===0 ">(none)</label>
        </div>
    </div>

</div>